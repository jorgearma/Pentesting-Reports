
# Penetration Testing Report

## Target Machine: MachineName (Hack The Box)

**Date:** June 20, 2024  
**Author:** Jorge Armando Escobar Correa

## Table of Contents
1. Introduction
2. Scope and Methodology
3. Reconnaissance
   - Network Scanning
   - Service Enumeration
   - Directory Enumeration
4. Exploitation
   - Vulnerability Identification
   - Attack Execution
5. Post-Exploitation
   - Privilege Escalation
   - Data Extraction
6. Recommendations
7. Conclusion
8. References

## 1. Introduction
This report documents the penetration testing activities conducted on the target machine "MachineName" from Hack The Box. The primary objective of this assessment was to identify and exploit vulnerabilities in the machine, ultimately demonstrating the risk these vulnerabilities pose. The findings and recommendations aim to improve the security posture of similar systems.

## 2. Scope and Methodology
### Scope:
- The scope of this penetration test was limited to the IP address 10.10.10.10.
- All activities were performed under the ethical guidelines and rules of engagement set by Hack The Box.

### Methodology:
- **Approach:** Black-box
- **Tools and Techniques:**
  - Nmap for network scanning.
  - Gobuster for directory enumeration.
  - Burp Suite for web application testing.
  - Metasploit Framework for exploitation.
  - Privilege escalation scripts and manual techniques.

## 3. Reconnaissance
### Network Scanning
**Nmap Scan Results:**

```nmap -sC -sV -oN nmap_initial.txt 10.10.10.10```

**Ports Open:**
- 22/tcp (SSH)
- 80/tcp (HTTP)

### Service Enumeration
- **SSH:** OpenSSH 7.6p1 Ubuntu 4 (Ubuntu Linux; protocol 2.0)
- **HTTP:** Apache httpd 2.4.29 ((Ubuntu))

### Directory Enumeration
**Gobuster Scan:**
```gobuster dir -u http://10.10.10.10 -w /usr/share/wordlists/dirb/common.txt -o gobuster.txt```

**Discovered Directories:**
- /admin
- /uploads
- /backup

## 4. Exploitation
### Vulnerability Identification
**HTTP Service:**
- **SQL Injection:** Detected in the URL parameter `id` at `http://10.10.10.10/item?id=1`
  - **Proof of Concept:** `http://10.10.10.10/item?id=1' OR '1'='1`

### Attack Execution
#### Exploitation Steps:
- **SQL Injection:**
  - Bypassed login authentication using SQL injection.
  - Extracted user credentials from the database.
- **SSH Access:**
  - Utilized extracted credentials to gain SSH access.
  - **Command:** `ssh user@10.10.10.10`
  
**Screenshots:**
- SQL Injection Exploit
- SSH Access

## 5. Post-Exploitation
### Privilege Escalation
- **Manual Enumeration:**
  - Found SUID binary `/usr/bin/somebinary` with improper permissions.
- **Exploitation:**


```/usr/bin/somebinary```

- Gained root access.

**Screenshot:** Root Access

### Data Extraction
**Sensitive Files:**
- Extracted `/etc/shadow`.
- Dumped database contents.

## 6. Recommendations
### General Recommendations:
- **Update Software:**
- Upgrade OpenSSH and Apache to the latest stable versions.
- **Input Validation:**
- Implement strict input validation and parameterized queries to prevent SQL injection.
- **File Permissions:**
- Review and correct file permissions, especially for SUID binaries.

### Specific Recommendations:
- **SSH Configuration:**
- Disable root login via SSH.
- Implement key-based authentication.

## 7. Conclusion
The penetration test on "MachineName" revealed several critical vulnerabilities, including SQL injection and improper file permissions leading to privilege escalation. Addressing these issues promptly will significantly enhance the security of the system and reduce the risk of compromise.

## 8. References
- OWASP SQL Injection Prevention Cheat Sheet
- Nmap Documentation
- Hack The Box


